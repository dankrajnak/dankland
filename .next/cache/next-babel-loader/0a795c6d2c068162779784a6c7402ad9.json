{"ast":null,"code":"// flow\nimport { useEffect, useRef } from \"react\";\nimport throttle from \"../../Services/Throttle/Throttle.service\";\nexport const useScroll = (listener, throtleAmount = 300) => {\n  useEffect(() => {\n    const throttledFunc = throttle(event => listener(event.deltaY), throtleAmount);\n    const wheelListener = window.addEventListener(\"wheel\", throttledFunc);\n    return () => window.removeEventListener(\"wheel\", wheelListener);\n  }, [listener, throtleAmount]);\n};\nexport const useScrollThreshold = (listener, threshold = 0.5, coolDown = 1000) => {\n  const throttledListener = useRef(throttle(val => listener(val), coolDown));\n  const callback = useRef(val => {\n    if (val > threshold || val < -threshold) {\n      throttledListener.current(val);\n    }\n  });\n  useScroll(callback.current);\n};\nexport default useScrollThreshold;","map":{"version":3,"sources":["/Users/danielkrajnak/Documents/Code/dankLand/src/View/Hooks/useScrollTreshold.ts"],"names":["useEffect","useRef","throttle","useScroll","listener","throtleAmount","throttledFunc","event","deltaY","wheelListener","window","addEventListener","removeEventListener","useScrollThreshold","threshold","coolDown","throttledListener","val","callback","current"],"mappings":"AAAA;AACA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AACA,OAAOC,QAAP,MAAqB,0CAArB;AAEA,OAAO,MAAMC,SAAS,GAAG,CACvBC,QADuB,EAEvBC,aAAqB,GAAG,GAFD,KAGpB;AACHL,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMM,aAAa,GAAGJ,QAAQ,CAC3BK,KAAD,IAAuBH,QAAQ,CAACG,KAAK,CAACC,MAAP,CADH,EAE5BH,aAF4B,CAA9B;AAIA,UAAMI,aAAkB,GAAGC,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiCL,aAAjC,CAA3B;AAEA,WAAO,MAAMI,MAAM,CAACE,mBAAP,CAA2B,OAA3B,EAAoCH,aAApC,CAAb;AACD,GARQ,EAQN,CAACL,QAAD,EAAWC,aAAX,CARM,CAAT;AASD,CAbM;AAeP,OAAO,MAAMQ,kBAAkB,GAAG,CAChCT,QADgC,EAEhCU,SAAiB,GAAG,GAFY,EAGhCC,QAAgB,GAAG,IAHa,KAI7B;AACH,QAAMC,iBAAiB,GAAGf,MAAM,CAC9BC,QAAQ,CAAEe,GAAD,IAAiBb,QAAQ,CAACa,GAAD,CAA1B,EAAiCF,QAAjC,CADsB,CAAhC;AAGA,QAAMG,QAAQ,GAAGjB,MAAM,CAAEgB,GAAD,IAAiB;AACvC,QAAIA,GAAG,GAAGH,SAAN,IAAmBG,GAAG,GAAG,CAACH,SAA9B,EAAyC;AACvCE,MAAAA,iBAAiB,CAACG,OAAlB,CAA0BF,GAA1B;AACD;AACF,GAJsB,CAAvB;AAMAd,EAAAA,SAAS,CAACe,QAAQ,CAACC,OAAV,CAAT;AACD,CAfM;AAiBP,eAAeN,kBAAf","sourcesContent":["// flow\nimport { useEffect, useRef } from \"react\";\nimport throttle from \"../../Services/Throttle/Throttle.service\";\n\nexport const useScroll = (\n  listener: (x0: number) => any,\n  throtleAmount: number = 300\n) => {\n  useEffect(() => {\n    const throttledFunc = throttle(\n      (event: WheelEvent) => listener(event.deltaY),\n      throtleAmount\n    );\n    const wheelListener: any = window.addEventListener(\"wheel\", throttledFunc);\n\n    return () => window.removeEventListener(\"wheel\", wheelListener);\n  }, [listener, throtleAmount]);\n};\n\nexport const useScrollThreshold = (\n  listener: (x0: number) => any,\n  threshold: number = 0.5,\n  coolDown: number = 1000\n) => {\n  const throttledListener = useRef<(val: number) => void>(\n    throttle((val: number) => listener(val), coolDown)\n  );\n  const callback = useRef((val: number) => {\n    if (val > threshold || val < -threshold) {\n      throttledListener.current(val);\n    }\n  });\n\n  useScroll(callback.current);\n};\n\nexport default useScrollThreshold;\n"]},"metadata":{},"sourceType":"module"}