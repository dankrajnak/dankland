{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Vector2d from \"../../Domain/Vector/Vector2d\";\nimport Color from \"color\";\nconst defaultConfig = {\n  numberOfColumns: 40,\n  numberOfRows: 40,\n  p: 0.0008,\n  shouldSlideDots: true,\n  dotSize: 3\n};\n\nconst constrain = (val, min, max) => Math.max(Math.min(val, max), min);\n\nexport default class MetaSphere {\n  constructor(width, height, config = defaultConfig) {\n    _defineProperty(this, \"_width\", void 0);\n\n    _defineProperty(this, \"_height\", void 0);\n\n    _defineProperty(this, \"_dots\", void 0);\n\n    _defineProperty(this, \"p\", void 0);\n\n    _defineProperty(this, \"shouldSlideDots\", void 0);\n\n    _defineProperty(this, \"dotSize\", void 0);\n\n    this._width = width;\n    this._height = height;\n    this._dots = [];\n    this.p = typeof config.p !== \"undefined\" ? config.p : defaultConfig.p;\n    this.shouldSlideDots = typeof config.shouldSlideDots !== \"undefined\" ? config.shouldSlideDots : defaultConfig.shouldSlideDots;\n    this.dotSize = typeof config.dotSize !== \"undefined\" ? config.dotSize : defaultConfig.dotSize;\n    const numberOfColumns = config.numberOfColumns || defaultConfig.numberOfColumns;\n    const numberOfRows = config.numberOfRows || defaultConfig.numberOfRows;\n\n    for (let i = 0; i < numberOfRows * numberOfColumns; i++) {\n      this._dots[i] = new Vector2d(width / numberOfRows * (i % numberOfRows), height / numberOfColumns * Math.floor(i / numberOfColumns));\n    }\n  }\n\n  setup() {}\n\n  draw(ctx, focusPoint) {\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(0, 0, this._width, this._height); // Draw each of the dots.\n\n    this._dots.forEach(dot => {\n      // Figure out the color of the dot.\n      const color = Color.hsl(Math.sqrt(Math.pow(this._width / 2 - dot.x, 2) + Math.pow(this._height / 2 - dot.y, 2)), 50, 50);\n      ctx.fillStyle = color.hex(); //Move the dots across the page\n\n      if (this.shouldSlideDots) {\n        if (focusPoint.x <= this._width / 2) {\n          dot.x = (dot.x + 1) % this._width;\n        } else {\n          dot.x -= 1;\n\n          if (dot.x <= 0) {\n            dot.x = this._width;\n          }\n        }\n      } //Ok, I'm going to be honest with you, this was one of the first programs\n      //I made, and I coded it poorly and as a result.  I could fix most of it, but\n      //I have no idea how this part actually works.\n\n\n      ctx.beginPath();\n      ctx.ellipse(constrain(dot.x + (constrain(focusPoint.x, 100, this._width - 100) - dot.x) * Math.sqrt(Math.pow(constrain(focusPoint.x, 300, 900) - dot.x, 2) + Math.pow(focusPoint.y - dot.y, 2)) * this.p, dot.x - 200, dot.x + 200), dot.y + (focusPoint.y - dot.y) * Math.sqrt(Math.pow(focusPoint.x - dot.x, 2) + Math.pow(focusPoint.y - dot.y, 2)) * this.p, this.dotSize, this.dotSize, 0, 0, Math.PI * 2);\n      ctx.fill();\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/danielkrajnak/Documents/Code/dankLand/src/Services/MetaSphere/MetaSphere.ts"],"names":["Vector2d","Color","defaultConfig","numberOfColumns","numberOfRows","p","shouldSlideDots","dotSize","constrain","val","min","max","Math","MetaSphere","constructor","width","height","config","_width","_height","_dots","i","floor","setup","draw","ctx","focusPoint","fillStyle","fillRect","forEach","dot","color","hsl","sqrt","pow","x","y","hex","beginPath","ellipse","PI","fill"],"mappings":"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","sourcesContent":["import Vector2d from \"../../Domain/Vector/Vector2d\";\nimport Color from \"color\";\n\ninterface Config {\n  numberOfColumns?: number;\n  numberOfRows?: number;\n  p?: number;\n  shouldSlideDots?: boolean;\n  dotSize?: number;\n}\n\nconst defaultConfig = {\n  numberOfColumns: 40,\n  numberOfRows: 40,\n  p: 0.0008,\n  shouldSlideDots: true,\n  dotSize: 3,\n};\n\nconst constrain = (val: number, min: number, max: number) =>\n  Math.max(Math.min(val, max), min);\n\nexport default class MetaSphere {\n  private _width: number;\n  private _height: number;\n  private _dots: Vector2d[];\n  public p: number;\n  public shouldSlideDots: boolean;\n  public dotSize: number;\n  public constructor(\n    width: number,\n    height: number,\n    config: Config = defaultConfig\n  ) {\n    this._width = width;\n    this._height = height;\n    this._dots = [];\n    this.p = typeof config.p !== \"undefined\" ? config.p : defaultConfig.p;\n    this.shouldSlideDots =\n      typeof config.shouldSlideDots !== \"undefined\"\n        ? config.shouldSlideDots\n        : defaultConfig.shouldSlideDots;\n\n    this.dotSize =\n      typeof config.dotSize !== \"undefined\"\n        ? config.dotSize\n        : defaultConfig.dotSize;\n\n    const numberOfColumns =\n      config.numberOfColumns || defaultConfig.numberOfColumns;\n    const numberOfRows = config.numberOfRows || defaultConfig.numberOfRows;\n\n    for (let i = 0; i < numberOfRows * numberOfColumns; i++) {\n      this._dots[i] = new Vector2d(\n        (width / numberOfRows) * (i % numberOfRows),\n        (height / numberOfColumns) * Math.floor(i / numberOfColumns)\n      );\n    }\n  }\n\n  public setup() {}\n\n  public draw(ctx: CanvasRenderingContext2D, focusPoint: Vector2d) {\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(0, 0, this._width, this._height);\n\n    // Draw each of the dots.\n    this._dots.forEach(dot => {\n      // Figure out the color of the dot.\n      const color = Color.hsl(\n        Math.sqrt(\n          Math.pow(this._width / 2 - dot.x, 2) +\n            Math.pow(this._height / 2 - dot.y, 2)\n        ),\n        50,\n        50\n      );\n      ctx.fillStyle = color.hex();\n\n      //Move the dots across the page\n      if (this.shouldSlideDots) {\n        if (focusPoint.x <= this._width / 2) {\n          dot.x = (dot.x + 1) % this._width;\n        } else {\n          dot.x -= 1;\n          if (dot.x <= 0) {\n            dot.x = this._width;\n          }\n        }\n      }\n\n      //Ok, I'm going to be honest with you, this was one of the first programs\n      //I made, and I coded it poorly and as a result.  I could fix most of it, but\n      //I have no idea how this part actually works.\n      ctx.beginPath();\n      ctx.ellipse(\n        constrain(\n          dot.x +\n            (constrain(focusPoint.x, 100, this._width - 100) - dot.x) *\n              Math.sqrt(\n                Math.pow(constrain(focusPoint.x, 300, 900) - dot.x, 2) +\n                  Math.pow(focusPoint.y - dot.y, 2)\n              ) *\n              this.p,\n          dot.x - 200,\n          dot.x + 200\n        ),\n        dot.y +\n          (focusPoint.y - dot.y) *\n            Math.sqrt(\n              Math.pow(focusPoint.x - dot.x, 2) +\n                Math.pow(focusPoint.y - dot.y, 2)\n            ) *\n            this.p,\n        this.dotSize,\n        this.dotSize,\n        0,\n        0,\n        Math.PI * 2\n      );\n\n      ctx.fill();\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}