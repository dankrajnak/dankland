{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport * as React from \"react\";\nimport styled from \"styled-components\";\nimport useFullScreen from \"../View/Hooks/useFullScreen\";\nimport PerspectiveSquare from \"../Services/PerspectiveSquare/PerspectiveSquare.service\";\nimport Square from \"../Domain/Square/Square\";\nimport Vector2d from \"../Domain/Vector/Vector2d\";\nimport OriginalPerspectiveSquareDrawer from \"../Services/PerspectiveSquare/Drawers/Original.service\";\nimport MenuLayout from \"../View/Layout/MenuLayout\";\nimport SEO from \"../View/Utility/seo\";\nimport useClickHoverWander from \"../View/Hooks/useClickHoverWander\";\nimport CanvasDrawer from \"../View/UI/CavnasDrawer/CanvasDrawer\";\nvar SQUARE_WIDTH = 300;\nvar FullScreen = styled.div(_templateObject());\n\nvar Perspective = function Perspective() {\n  var _useFullScreen = useFullScreen(),\n      _useFullScreen2 = _slicedToArray(_useFullScreen, 3),\n      width = _useFullScreen2[0],\n      height = _useFullScreen2[1],\n      flash = _useFullScreen2[2];\n\n  var _useClickHoverWander = useClickHoverWander(width, height),\n      _useClickHoverWander2 = _slicedToArray(_useClickHoverWander, 2),\n      focusPoint = _useClickHoverWander2[0],\n      mouseProps = _useClickHoverWander2[1];\n\n  var perspectiveSquare = React.useRef(null);\n  var squareDrawer = React.useRef(null);\n\n  var initializeCanvas = function initializeCanvas(ctx) {\n    //Create the squares.\n    perspectiveSquare.current = new PerspectiveSquare(new Square(SQUARE_WIDTH, new Vector2d((width - SQUARE_WIDTH) / 2, (height + SQUARE_WIDTH) / 2)), 100);\n    squareDrawer.current = new OriginalPerspectiveSquareDrawer(ctx, {\n      mapper: function mapper(v) {\n        return new Vector2d(v.x, height - v.y);\n      },\n      lineColor: \"#04D9C4\"\n    });\n  };\n\n  var artist = function artist(ctx) {\n    if (!squareDrawer.current || !perspectiveSquare.current) {\n      return;\n    }\n\n    ctx.fillStyle = \"#0D0D0D\";\n    ctx.fillRect(0, 0, width, height);\n    squareDrawer.current.draw(perspectiveSquare.current.getSquares(new Vector2d(focusPoint.x, height - focusPoint.y)), focusPoint.clone());\n  };\n\n  if (flash) {\n    return flash;\n  }\n\n  return __jsx(MenuLayout, {\n    color: \"white\"\n  }, __jsx(SEO, {\n    title: \"Perspective\"\n  }), __jsx(FullScreen, null, __jsx(CanvasDrawer, _extends({\n    width: width,\n    height: height,\n    initializeCanvas: initializeCanvas,\n    artist: artist\n  }, mouseProps))));\n};\n\nexport default Perspective;","map":null,"metadata":{},"sourceType":"module"}